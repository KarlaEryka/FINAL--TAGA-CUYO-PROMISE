<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="CSS/staff_list.css">
    <script type="module" src="scripts/dashboard/dashboard.js"></script>

    <title>User Management</title>
</head>
<body>
    <!-- SIDEBAR -->
    <section id="sidebar">
        <a class="brand"><img src="images/logo.png" width="70px" height="70px"> TAGA-CUYO</a>
        <ul class="side-menu">
            <div id="loading-spinner" style="display: flex; justify-content: center; align-items: center; height: 100vh;">
                <i class='bx bx-loader-circle bx-spin' style="font-size: 50px;"></i>
            </div>
            <!-- Dashboard Menu -->
            <li id="dashboard-menu"><a href="dashboard.html"><i class='bx bxs-dashboard icon'></i>Dashboard</a></li>
            <li class="divider" data-text="main">Main</li>
        
            <!-- User Management Menu -->
            <li id="user-management-menu">
                <a href="#"><i class='bx bxs-inbox icon'></i> User Management <i class='bx bx-chevron-right icon-right'></i></a>
                <ul class="side-dropdown">
                    <li><a href="list_of_users.html" class="active"><i class='mdi mdi-account icon'></i> List of Users</a></li>
                    <li><a href="list_of_staff.html"><i class='uil uil-users-alt icon'></i> List of Staff</a></li>
                </ul>
            </li>
        
            <!-- Learning Feature Status Menu -->
            <li id="learning-feature-menu">
                <a href="#"><i class='bx bxs-graduation icon'></i> Learning Feature Status <i class='bx bx-chevron-right icon-right'></i></a>
                <ul class="side-dropdown">
                    <li><a href="status.html"><i class='bx bx-time icon'></i>Status</a></li>
                    <li><a href="lesson.html"><i class='bx bxs-book icon'></i>Aralin</a></li>
                    <li><a href="category.html"><i class='bx bxs-category icon'></i>Kategorya</a></li>
                    <li><a href="translator.html"><i class='bx bx-globe icon'></i>Translator</a></li>
                </ul>
            </li>
        
            <!-- Support and Feedback Menu -->
            <li id="support-feedback-menu">
                <a href="#"><i class='bx bxs-comment icon'></i> Support and Feedback <i class='bx bx-chevron-right icon-right'></i></a>
                <ul class="side-dropdown">
                    <li><a href="feedback2.html"><i class='bx bxs-message-rounded icon'></i>User Feedback</a></li>
                    <li><a href="user_support.html"><i class='uil uil-headphones-alt icon'></i>User Support</a></li>
                    <li><a href="user_reports.html"><i class='uil uil-exclamation-triangle icon '></i>User Report</a></li>
                </ul>
            </li>
        
            <!-- Other Menus -->
        <!--   <li id="terms-menu"><a href="terms_and_condition.html"><i class='bx bxs-file icon'></i> Terms and Condition</a></li>-->
        <li id="settings-menu"><a href="settings.html"><i class='bx bxs-cog icon'></i> Settings</a></li>
        </ul>
    </section>
    <!-- SIDEBAR -->

    <!-- NAVBAR -->
    <section id="content">
        <nav>   
            <form action="#">
                <div class="form-group">
                    
                </div>
            </form>
            <div class="profile">
                <div class="notification-icon" onclick="toggleNotificationDropdown()">
                    <i class='bx bxs-bell' style="font-size: 20px;"></i>
                    <span id="notificationCounter" class="notification-counter" style="display: none;"></span>
                </div>
                <div id="notificationDropdown" class="notification-dropdown hidden">
                    <h4></h4>
                    <ul id="notificationList">
                        <!-- Notifications will be populated here -->
                    </ul>
                </div>
                <img src="images/logo.png" alt="Profile Image">
                <ul class="profile-link">
                    <li><a href="settings.html"><i class='bx bxs-cog'></i> Settings</a></li>
                    <li>
                        <a href="#" id="logoutButton" class="logout-link">
                            <i class='bx bxs-log-out-circle'></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- NAVBAR -->
        <main>
            <div class="user-management">
                &nbsp;
                &nbsp;
                &nbsp;
                &nbsp;
                <h2>User Management > Administrators</h2>
                <div class="container">
                    <button id="addStaffBtn">Add New Member</button>
                    <table class="table table-bordered mt-3" id="staffTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Date Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Staff rows will be populated here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </section>
    
    <div id="addStaffModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Add New Member</h2>
            <form id="addStaffForm">
                <label for="role">Role:</label>
                <select id="role" required>
                    <option value="staff">Staff</option>
                    <option value="admin">Admin</option>
                </select>

                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" required>
        
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" required>
        
                <label for="email">Email:</label>
                <input type="email" id="email" required>
    
                <label for="birthdate">Birthdate:</label>
                <input type="date" id="birthdate" required>

                <label for="gender">Gender:</label>
                <select id="gender" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>


                <button type="save-btn">Add Member</button>
            </form>
        </div>
    </div>

    <script type="module">
        import { displayUsers } from "./scripts/staff/displayUsers.js";
        import { addStaff } from "./scripts/staff/addStaff.js";
        import { deleteUserAccount } from "./scripts/staff/deleteUser.js";
        import "./scripts/staff/authHandlers.js";


        /// Event listener for the close button
        document.querySelector(".close-btn").addEventListener("click", () => {
            document.getElementById("addStaffModal").style.display = "none";
        });

        // Event listener for the "Add New Member" button
        document.getElementById("addStaffBtn").addEventListener("click", () => {
            document.getElementById("addStaffModal").style.display = "block";
        });

        // Event listener for form submission
        document.getElementById("addStaffForm").addEventListener("submit", addStaff);
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
    <script src="scripts/script.js"></script>
    <script type="module" src="scripts/notification.js"></script>
    <script type="module" src="scripts/logout.js"></script>

</body>
</html>